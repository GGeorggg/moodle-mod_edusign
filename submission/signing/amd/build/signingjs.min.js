define ("edusignsubmission_signing/signingjs",["jquery"],function(){return{init:function init(){initialize()},save:function save(){initialize()}}});function initialize(){canvas=document.getElementById("canvas");ctx=canvas.getContext("2d");var d=canvas.getBoundingClientRect();canvas.width=d.width;canvas.height=d.height;ctx.strokeStyle="#000";ctx.lineWidth=1;c(canvas,ctx);var f=!1,g={x:0,y:0},h=g,i="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;$("#clearCanvas").bind("click",function(){c(canvas,ctx)});$("#id_submitbutton").click(function(){var a=$("#canvas")[0].toDataURL();$("[name=\"signing\"]").val(a)});if(window.PointerEvent){canvas.addEventListener("pointerdown",function(b){b.preventDefault();b.stopPropagation();f=!0;h=a(canvas,b);g=h});canvas.addEventListener("pointermove",function(b){b.preventDefault();b.stopPropagation();g=a(canvas,b)});canvas.addEventListener("pointerup",function(a){a.preventDefault();a.stopPropagation();f=!1});document.body.addEventListener("pointerdown",function(a){if(a.target==canvas){a.preventDefault();a.stopPropagation()}},!1);document.body.addEventListener("pointermove",function(a){if(a.target==canvas){a.preventDefault();a.stopPropagation()}},!1);document.body.addEventListener("pointerup",function(a){if(a.target==canvas){a.preventDefault();a.stopPropagation()}},!1)}else{canvas.addEventListener(i?"touchstart":"mousedown",function(b){b.preventDefault();b.stopPropagation();f=!0;h=a(canvas,b);g=h});canvas.addEventListener(i?"touchmove":"mousemove",function(b){b.preventDefault();b.stopPropagation();g=a(canvas,b)});canvas.addEventListener(i?"touchend":"mouseup",function(a){a.preventDefault();a.stopPropagation();f=!1});document.body.addEventListener("touchstart",function(a){if(a.target==canvas){a.preventDefault();a.stopPropagation()}},!1);document.body.addEventListener("touchend",function(a){if(a.target==canvas){a.preventDefault();a.stopPropagation()}},!1);document.body.addEventListener("touchmove",function(a){if(a.target==canvas){a.preventDefault();a.stopPropagation()}},!1)}function a(a,b){var c=a.getBoundingClientRect();return{x:(i?b.touches[0].clientX:b.clientX)-c.left,y:(i?b.touches[0].clientY:b.clientY)-c.top}}window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}();function b(){if(f){ctx.moveTo(h.x,h.y);ctx.lineTo(g.x,g.y);ctx.stroke();if(h.x==g.x&&h.y==g.y){ctx.moveTo(h.x,h.y);ctx.arc(h.x,h.y,.5,0,2*Math.PI,!1)}h=g}}(function a(){requestAnimFrame(a);b()})();$(window).resize(function(){var a=canvas.width,b=canvas.height,c=ctx.getImageData(0,0,a,b),d=canvas.getBoundingClientRect();canvas.width=d.width;canvas.height=d.height;a=canvas.width,b=canvas.height;ctx.putImageData(c,0,0)});function c(a,b){b.clearRect(0,0,a.width,a.height);a.width=a.width}}
//# sourceMappingURL=signingjs.min.js.map
