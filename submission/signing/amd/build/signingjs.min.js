define ("edusignsubmission_signing/signingjs",["jquery"],function(){return{init:function init(){initialize()},save:function save(){initialize()}}});function initialize(){var d=document.getElementById("canvas"),e=d.getContext("2d"),f=d.getBoundingClientRect();d.width=f.width;d.height=f.height;e.strokeStyle="#000";e.lineWidth=1;c(d,e);var g=!1,h={x:0,y:0},i=h,j="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;$("#clearCanvas").bind("click",function(){c(d,e)});$("#id_submitbutton").click(function(){var a=$("#canvas")[0].toDataURL();$("[name=\"signing\"]").val(a)});d.addEventListener("pointerdown",function(b){b.preventDefault();b.stopPropagation();g=!0;console.log(b.clientX);i=a(d,b);h=i},!1);d.addEventListener("pointermove",function(b){b.preventDefault();b.stopPropagation();h=a(d,b)},!1);d.addEventListener("pointerup",function(a){a.preventDefault();a.stopPropagation();g=!1},!1);document.body.addEventListener("pointerdown",function(a){if(a.target==d){a.preventDefault();a.stopPropagation()}},!1);document.body.addEventListener("pointermove",function(a){if(a.target==d){a.preventDefault();a.stopPropagation()}},!1);document.body.addEventListener("pointerup",function(a){if(a.target==d){a.preventDefault();a.stopPropagation()}},!1);function a(a,b){var c=a.getBoundingClientRect();console.log(b.clientX);return{x:b.clientX-c.left,y:b.clientY-c.top}}window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}();function b(){if(g){e.moveTo(i.x,i.y);e.lineTo(h.x,h.y);e.stroke();if(i.x==h.x&&i.y==h.y){e.moveTo(i.x,i.y);e.arc(i.x,i.y,.5,0,2*Math.PI,!1)}i=h}}(function a(){requestAnimFrame(a);b()})();$(window).resize(function(){var a=d.width,b=d.height,c=e.getImageData(0,0,a,b),f=d.getBoundingClientRect();d.width=f.width;d.height=f.height;a=d.width,b=d.height;e.putImageData(c,0,0)});function c(a,b){b.clearRect(0,0,a.width,a.height);a.width=a.width}}
//# sourceMappingURL=signingjs.min.js.map
